<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://kit.fontawesome.com/f723190f09.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="index.css">
  <title>DEMO</title>
</head>

<body>

  <h1 id="wild">Hier</h1>
  <button id="bt">Press</button>
  <div id="loadbar">
      <div id="bar"></div>
    </div>
  </div>
  <button id="load">loadbar</button>


  <script type="text/javascript" src="lib/jquery/jquery-3.5.1.min.js"></script>
  <!--<script type="text/javascript" src="lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script> -->
  <script type="text/javascript" src="index.js"></script>

  <script>
    $("#bt").click(function(){
      $.ajax({url: "test.txt", success: function(result){
        $("#wild").html($(result).filter("#test").html());
      }});
    });
    
    $("#load").click(function(){
      $loadbar();
    });

    $loadbar = function(){
      var elem = document.getElementById("bar");
      var elem2 = document.getElementById("loadbar");
      var w = 0;
      var id = setInterval(frame, 1000);
      function frame() {
        if (w > 100) {
          clearInterval(id);
        } else {
          $.ajax({url: "http://localhost:3334/", success: function(result){
            w = result;
          }});
          $("#bar").animate({width : w + "%"},"slow");
          elem.innerHTML = w + "%";

        }
      }
    }
  </script>
</body>

</html>
